<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>SkillUp</title>
     <link rel="stylesheet" href="css/style.css">
     <script src="node_modules/easytimer.js/dist/easytimer.min.js"></script>
     <script src="node_modules/jquery/dist/jquery.min.js"></script>
</head>

<body>
     <header>
          <div class="logo-wrapper">
               <img src="img/SKILL-RUSH logo.svg" alt="Skill Rush Logo">
          </div>
          <nav>
               <ul>
                    <li><a href="#timer">Timer</a></li>
                    <li><a href="#rules">Rules</a></li>
               </ul>
          </nav>
     </header>
     <main>
          <section id="timer" class="timer">
               <div class="content">
                    <div class="random_player">
                         <h2>Manage your team</h2>
                         <div class="team-manager">
                              <input type="text" id="player-name" placeholder="Name">
                              <select id="team-select">
                                   <option value="team1">Team 1</option>
                                   <option value="team2">Team 2</option>
                              </select>
                         </div>
                         <div class="players-presets">
                              <button id="add-player">Add player <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-plus"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" x2="19" y1="8" y2="14"/><line x1="22" x2="16" y1="11" y2="11"/></svg></button>
                              <button id="remove-player">Remove player <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-x"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="17" x2="22" y1="8" y2="13"/><line x1="22" x2="17" y1="8" y2="13"/></svg></button>
                         </div>
                         <div class="teams-presets">
                              <h3>Teams</h3>
                              <p>Maximum 10 players allowed</p>
                              <button id="add-team">Add team <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-square-plus"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M8 12h8"/><path d="M12 8v8"/></svg></button>
                              <button id="remove-team">Remove team <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-square-minus"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M8 12h8"/></svg></button>
                         </div>
                         <h3>Random orders</h3>
                         <button id="shuffle-teams">Mix players <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-dices"><rect width="12" height="12" x="2" y="10" rx="2" ry="2"/><path d="m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6"/><path d="M6 18h.01"/><path d="M10 14h.01"/><path d="M15 6h.01"/><path d="M18 9h.01"/></svg></button>
                         <div class="teams" id="teams-container">
                              <div>
                                   <h2>Team 1</h2>
                                   <ul id="team1-list"></ul>
                              </div>
                              <div>
                                   <h2>Team 2</h2>
                                   <ul id="team2-list"></ul>
                              </div>
                         </div>
                    </div>
                    <div class="timer-wrapper">
                         <div class="values">00:00:00</div>
                         <div class="progess-bar">.</div>
                         <div class="timer-controls">
                              <button class="icon start"><svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-play"><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8"/></svg></button>
                              <button class="icon reset"><svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-stop"><circle cx="12" cy="12" r="10"/><rect x="9" y="9" width="6" height="6" rx="1"/></svg></button>
                         </div>
                    </div>
               </div>
          </section>
          <section id="rules" class="rules">
               <div class="content">
                    <h1 class="green">Rules</h1>
                    <h2 class="blue">GOAL OF THE GAME :</h3>

                    <p><strong>AGE :</strong> From 14 years old but is recommended to play from 17 years old</p>

                    <p><strong>TIME :</strong> 15 to 30 minutes</p>

                    <p><strong>NUMBER OF PLAYERS :</strong> from 4 to 10 players</p>
                    <p>The goal of the game Skill Rush is to get your team to guess as many words about soft skills as
                    possible using successive clues, with a time limit for each round.</p>

                    <p>The team with the most points wins the game</p>

                    <p><strong>MATERIAL :</strong></p>
                    <ul>
                         <li>40 cards (10 cards per category and 4 category)</li>
                         <li>A smartphone with stopwatch access</li>
                    </ul>

                    <p>A game is played in 3 rounds. During its turn, a team has 30 seconds to guess the maximum of
                    words</p>

                    <strong>Preparation of the game :</strong>

                    <p>For a game, take 1 pile of 10 cards with a 1 soft skills topics, or all piles together, that is
                    40 cards</p>

                    <p>If the group has chosen only one pile, the whole game will be played with this colour</p>

                    <p>A player starts, he is the speaker.</p>

                    <p>Different piles of cards:
                         <ul>
                              <li>Orange : team spirit</li>
                              <li>Red : leadership</li>
                              <li>Green : organization</li>
                              <li>Purple : communication and active listening</li>
                         </ul>
                    </p>
                    
                    The course of a game

                    <p>Part one game has 3 rounds. Each team plays in turn. A player start the timer around and says
                    “Here we go”. The speaker has 30 sec to guess the maximum of words defining the soft skills
                    chosen for his team.</p>
                    <p>During the first set, the speaker speaks freely.</p>
                    <p>During the 2nd, he says only a word to make guess</p>
                    <p>During the 3rd, he can’t speak, he has to use mimes</p>
                    <h3 class="green">1) First round</h3>
                    <p>The player can speak freely but must respect certain rules like. They do not say of the parts
                    or diminutives and first names indicated on the card, do not list letters of the alphabet, do
                    not use direct traduction and if the speaker makes a mistake his turn ends. When the team
                    guessed the word, the speaker gives his team the card face up -> he turns the next card and
                    tries to guess it.</p>
                    <p>As soon as the time is up, the turn of this team stops and no more proposals are accepted, the
                    card in progress is handed over under the draw. All guessed cards are kept in the team. Next
                    team. The members of the other teams are speakers one after the other. Continue until the pick
                    is exhausted.</p>
                    <strong class="blue">Calculation of points&nbsp;:</strong>
                    <p>When the pickaxe is exhausted, the round is finished. Each team counts the number of cards they
                    have guessed. Points are scored. The team with the most points wins the round.</p>
                    <h3 class="green">2) Second round</h3>
                    <p>This time, the speaker’s team can only give a proposal of 1 word per card with the same
                    prohibitions as first round. If the team has found, the speaker puts the card face up and turns
                    the next card over. In case of error the speaker can pass cards. The calculation is identical
                    to the 1st round. The next speaker begins the 3rd round.</p>
                    <h3 class="green">3) Third Round</h3>
                    <p>Same as the previous ones, but the speaker is no longer allowed to speak, he can only mimic.
                    Forbidden to hum songs.</p>
               </div>
          </section>
          </div>
     </main>
     <script>
   // Execute function when body is loaded
          
        document.body.onload = function() {
          // function startRotation(seconds) {
          //   $('.timer-wrapper::after').style.transitionDuration = `${seconds}s`;
          //   $('.timer-wrapper::after').style.transform = 'rotate(360deg)';
          // }
          var timer  = new easytimer.Timer();
          var isPlaying = false;
          
          $('.timer-controls .start').click(function () {
               if (isPlaying) {
                    timer.pause();
                    $('.timer-controls .start').html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-play"><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8"/></svg>');
               } else {
                    timer.start({countdown: true, startValues: {seconds: 30}});
                    $('.timer-controls .start').html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-pause"><circle cx="12" cy="12" r="10"/><line x1="10" x2="10" y1="15" y2="9"/><line x1="14" x2="14" y1="15" y2="9"/></svg>');
               }
               isPlaying = !isPlaying;
          });

          $('.timer-controls .pause').click(function () {
               timer.pause();
          });

          $('.timer-controls .reset').click(function () {
               timer.reset();
               isPlaying = false;
               $('.timer-controls .start').html('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-play"><circle cx="12" cy="12" r="10"/><polygon points="10 8 16 12 10 16 10 8"/></svg>');
          });
     
          timer.addEventListener('secondsUpdated', function (e) {
               $('.timer-wrapper .values').html(timer.getTimeValues().toString());
               let timerSeconds = timer.getTimeValues().seconds;
               // console.log(timer.getTimeValues().seconds);
               $('.timer-wrapper::after').style.transitionDuration = `${timerSeconds}s`;
               $('.timer-wrapper::after').style.transform = 'rotate(360deg)';
              $('.timer-wrapper .progress-bar').html($('.timer-wrapper .progress-bar').html() + '.');
          });

          timer.addEventListener('started', function (e) {
            $('.timer-wrapper .values').html(timer.getTimeValues().toString());
          });

          timer.addEventListener('reset', function (e) {
               $('.timer-wrapper .values').html(timer.getTimeValues().toString());
          });

          timer.addEventListener('targetAchieved', function (e) {
            $('.timer-wrapper .progress-bar').html('COMPLETE!!');
          });

          document.getElementById('add-player').addEventListener('click', function() {
               var playerName = document.getElementById('player-name').value;
               var team = document.getElementById('team-select').value;
               var totalPlayers = document.querySelectorAll('.teams ul li').length;
               if (playerName && totalPlayers < 10) {
                    var list = document.getElementById(team + '-list');
                    var listItem = document.createElement('li');
                    listItem.textContent = playerName;
                    list.appendChild(listItem);
                    document.getElementById('player-name').value = '';
               } else {
                    alert('Maximum 10 players allowed.');
               }
          });

          document.getElementById('remove-player').addEventListener('click', function() {
               var team = document.getElementById('team-select').value;
               var list = document.getElementById(team + '-list');
               if (list.lastChild) {
                    list.removeChild(list.lastChild);
               }
          });

          document.getElementById('add-team').addEventListener('click', function() {
               var teamsContainer = document.getElementById('teams-container');
               var totalTeams = teamsContainer.children.length;
               if (totalTeams < 5) {
                    var newTeamNumber = totalTeams + 1;
                    var newTeamDiv = document.createElement('div');
                    newTeamDiv.innerHTML = `<h2>Team ${newTeamNumber}</h2><ul id="team${newTeamNumber}-list"></ul>`;
                    teamsContainer.appendChild(newTeamDiv);
                    var newOption = document.createElement('option');
                    newOption.value = `team${newTeamNumber}`;
                    newOption.textContent = `Team ${newTeamNumber}`;
                    document.getElementById('team-select').appendChild(newOption);
               } else {
                    alert('Maximum 5 teams allowed.');
               }
          });

          document.getElementById('remove-team').addEventListener('click', function() {
               var teamsContainer = document.getElementById('teams-container');
               var totalTeams = teamsContainer.children.length;
               if (totalTeams > 2) {
                    var lastTeam = teamsContainer.lastChild;
                    teamsContainer.removeChild(lastTeam);
                    var teamSelect = document.getElementById('team-select');
                    teamSelect.removeChild(teamSelect.lastChild);
               }
          });

          document.getElementById('shuffle-teams').addEventListener('click', function() {
               var teamsContainer = document.getElementById('teams-container');
               Array.from(teamsContainer.children).forEach(function(teamDiv) {
                    var list = teamDiv.querySelector('ul');
                    var players = Array.from(list.children);
                    for (var i = players.length - 1; i > 0; i--) {
                         var j = Math.floor(Math.random() * (i + 1));
                         list.appendChild(players[j]);
                    }
               });
          });
        }
     </script>
</body>

</html>